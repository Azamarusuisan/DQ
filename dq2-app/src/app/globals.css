* { margin: 0; padding: 0; box-sizing: border-box; -webkit-user-select: none; user-select: none; }
body { background: #111; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; height: 100dvh; overflow: hidden; font-family: monospace; touch-action: none;
  padding-top: env(safe-area-inset-top); padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left); padding-right: env(safe-area-inset-right); }
#gc { position: relative; width: 768px; height: 720px; image-rendering: pixelated; image-rendering: crisp-edges; -ms-interpolation-mode: nearest-neighbor; max-width: 100vw; aspect-ratio: 768 / 720; }
canvas { width: 100%; height: 100%; display: block; image-rendering: pixelated; image-rendering: crisp-edges; }
#pad { display: none; width: 100%; max-width: 520px; padding: 8px 12px; padding-bottom: max(16px, env(safe-area-inset-bottom)); justify-content: space-between; align-items: center; flex-shrink: 0; }
.dpad { position: relative; width: 140px; height: 140px; }
.dpad button { position: absolute; width: 48px; height: 48px; background: rgba(255,255,255,0.18); border: 2px solid rgba(255,255,255,0.35); border-radius: 12px; color: #fff; font-size: 22px; display: flex; align-items: center; justify-content: center; -webkit-tap-highlight-color: transparent; outline: none; }
.dpad button:active, .dpad button.held { background: rgba(255,255,255,0.5); }
.dpad .up { top: 0; left: 46px; }
.dpad .down { bottom: 0; left: 46px; }
.dpad .left { top: 46px; left: 0; }
.dpad .right { top: 46px; right: 0; }
.dpad .center { top: 46px; left: 46px; width: 48px; height: 48px; background: rgba(255,255,255,0.08); border: none; border-radius: 4px; pointer-events: none; font-size: 10px; color: rgba(255,255,255,0.2); }
.ab-area { display: flex; flex-direction: column; align-items: center; gap: 8px; }
.ab-row { display: flex; gap: 16px; align-items: center; }
.ab-row button { width: 56px; height: 56px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.4); background: rgba(60,60,255,0.25); color: #fff; font-size: 16px; font-weight: bold; -webkit-tap-highlight-color: transparent; outline: none; }
.ab-row button:active, .ab-row button.held { background: rgba(100,100,255,0.6); }
.btn-b { background: rgba(255,80,80,0.25) !important; border-color: rgba(255,80,80,0.5) !important; }
.btn-b:active, .btn-b.held { background: rgba(255,80,80,0.6) !important; }
.meta-row { display: flex; gap: 12px; margin-top: 4px; }
.meta-row button { width: 70px; height: 44px; border-radius: 22px; border: 1px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.1); color: #aaa; font-size: 11px; -webkit-tap-highlight-color: transparent; outline: none; }
.meta-row button:active { background: rgba(255,255,255,0.3); }
@media (pointer: coarse), (max-width: 700px) {
  #gc { max-height: 50vh; max-height: 50dvh; }
  #pad { display: flex; }
}
@media (max-height: 500px) {
  #gc { max-height: 42vh; max-height: 42dvh; }
  .dpad { width: 110px; height: 110px; }
  .dpad button { width: 38px; height: 38px; font-size: 16px; }
  .dpad .up { left: 36px; }
  .dpad .down { left: 36px; }
  .dpad .left { top: 36px; }
  .dpad .right { top: 36px; }
  .dpad .center { top: 36px; left: 36px; width: 38px; height: 38px; }
  .ab-row button { width: 46px; height: 46px; font-size: 14px; }
  .meta-row button { width: 60px; height: 38px; font-size: 10px; }
}
@media (orientation: portrait) and (max-width: 500px) {
  #gc { max-height: 45dvh; max-width: 100vw; }
  #pad { max-width: 100vw; }
}
